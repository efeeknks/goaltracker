<!DOCTYPE html>

<html lang="en">

    <head>

        <meta charset="utf-8">
        <meta name="viewport" content="initial-scale=1, width=device-width">

        <title>Streak Follower</title>

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
        <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
        <link href="/static/styles.css" rel="stylesheet">
    </head>

    <body>
            {% if session["user_id"] %}
                <form action="/" method="post">
                    <div class="topnav">
                        <div class="topnav-right">
                            <div class="element">
                                <button name="logout" id="logout" type="submit">Log Out</button>
                            </div>
                        </div>
                    </div>
                </form>
            {% else %}
                <div class="topnav">
                    <div class="topnav-right">
                        <div class="element">
                            <a id="show-signup">Sign Up</a>
                        </div>
                        <div class="element">
                            <a id="show-login">Login</a>
                        </div>
                    </div>
                </div>
            {% endif %}


            {% for category, mesg in get_flashed_messages(with_categories=true) %}

            <div class="{{ category }}">
                <span class="closebtn" onclick="this.parentElement.style.display='none';">&times;</span>
                {{ mesg }}
            </div>

            {% endfor %}




            <div class="center">
                <p class="title">Goal Tracker</p>
                <p class="info">Goal Tracker motivates you to reach your goals and helps you track how much progress you've made towards your goals. To unrelentingly achieve your goals, all you need to do is click the button below!</p>
                <form action="/" method="post">
                <button name="start-now" type="submit" class="start-now">Start Now!</button>
                </form>
            </div>

            <form action="/" method="post">
            <div class="login_popup">
                <div class="close-btn">&times;</div>
                <div class="form">
                    <h2>Log in</h2>
                    <div class="form-element">
                        <label for="username">Username</label>
                        <input type="text" name="login-username" id="login-username" placeholder="Enter username" autocomplete="off" >
                    </div>
                    <div class="form-element">
                        <label for="password">Password</label>
                        <input type="password" name="login-password" id="login-password" placeholder="Enter password">
                    </div>
                    <div class="form-element">
                        <button name="login-button" type="submit">Sign in</button>
                    </div>
                </div>
            </div>
            </form>

            <form action="/" method="post">
                <div class="signup_popup">
                    <div class="close-btn">&times;</div>
                    <div class="form">
                        <h2>Sign Up</h2>
                        <div class="form-element">
                            <label for="username">Username</label>
                            <input type="text" name="register-username" id="register-username" placeholder="Enter username" autocomplete="off" >
                        </div>
                        <div class="form-element">
                            <label for="password">Password</label>
                            <input type="password" name="register-password" id="register-password" placeholder="Enter password">
                        </div>
                        <div class="form-element">
                            <label>Confirm Password</label>
                            <input type="password" name="password-confirmation" id="password-confirmation" placeholder="Enter password again">
                        </div>
                        <div class="form-element">
                            <button name="register-button" type="submit">Sign Up</button>
                        </div>
                    </div>
                </div>
            </form>

    </body>
    <script>
                document.querySelector("#show-login").addEventListener("click", function(){
                    document.querySelector(".login_popup").classList.add("active");
                });
                document.querySelector(".login_popup .close-btn").addEventListener("click", function(){
                    document.querySelector(".login_popup").classList.remove("active");
                });

                document.querySelector("#show-signup").addEventListener("click", function(){
                    document.querySelector(".signup_popup").classList.add("active");
                });
                document.querySelector(".signup_popup .close-btn").addEventListener("click", function(){
                    document.querySelector(".signup_popup").classList.remove("active");
                });

            </script>

    </html>